<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.esg.mapper.MapleMapper">

	<insert id="createBoard">
	
		insert into tbl_mapleboard (userid,boardpw,subject,content,ip)
		values(#{userid},#{boardpw},#{subject},#{content},#{ip})
	
	</insert>
	
	<select id="maplelist" resultType="mapleboardVO">
		select * from tbl_mapleboard 
		where num > 0
		order by num desc, date desc
		limit #{pageStart}, #{perPageNum}
		
		
	</select>
	
	<select id="mapleSearchList" resultType="mapleboardVO">
	
	 
 		select * from tbl_mapleboard
 		where (subject like concat('%',#{searchName},'%')) || (content like concat('%',#{searchName},'%'))
 		order by num desc, date desc 
 		limit #{pageStart}, #{perPageNum}
 	
 		
	</select>
	
	<select id="mapleContent" resultType="mapleboardVO">
 		select * from tbl_mapleboard where num=#{num};
 	
 	</select>
 	
 	<update id="maplemodify">
 		update tbl_mapleboard set userid=#{userid},boardpw=#{boardpw},subject=#{subject},content=#{content}
 		where num=#{num}
 	</update>
 	
 	<delete id="mapledelete">
 		
 		delete from tbl_mapleboard
 		where num=#{num}
 	
 	</delete>
 	
 	<select id="totalCnt" resultType="int">
 	
 		select count(num) from tbl_mapleboard
 		 
 	</select>
 	
	
	
	
	
</mapper>